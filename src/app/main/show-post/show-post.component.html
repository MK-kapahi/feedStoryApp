<div *ngFor="let post of Posts">
  <div class="instagram-card" *ngIf="!post.Block">
    <div class="instagram-card-header d-flex justify-content-between">
      <div class="instagram-card-user-image">
      <img src="{{post.photoUrl}}" alt="no image" srcset="" >
    </div>
      <div class="instagram-card-user-name">{{post.userName}}</div>
      <div class="d-flex justify-content-end">
        <div class="instagram-card-time">{{post.createdAt.toDate() | date}}</div>
        <div class="instagram-card-time align-self-end">
          <button type="button" class="btn">options</button>
        </div>
      </div>
    </div>
    <div class="intagram-card-image">
      <img [src]=post.Url height="600px" *ngIf="post.Type===1" />
      <video controls autoplay *ngIf="post.Type===2" style=" width: 600px; height: 600px;" muted>
        <source [src]="post.Url" type="video/mp4">
      </video>
    </div>

    <div class="instagram-card-content">
      <button (click)="LikePost(post.postId,showLike(post.postId))" *ngIf="!showLike(post.postId)">LIKE</button>
      <button (click)="LikePost(post.postId,showLike(post.postId))" *ngIf="showLike(post.postId)">unlike</button>
      <div class=" d-flex justify-content-around">
        <div>
          <p class="likes">{{post.likes}}</p>
          <mat-form-field appearance="fill">
            <mat-label>State</mat-label>
            <mat-select>
              <mat-option>None</mat-option>
              <mat-option *ngFor="let name of post.Names" [value]="name">{{name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <button (click)="ReportPost(post.postId)">Report</button>
        <p><a class="instagram-card-content-user" *ngFor=" let user of post.Names "
            href="https://www.instagram.com/followmeto/">{{user}}</a></p>
      </div>
      {{post.Description}} <a class="hashtag" href="https://www.instagram.com/explore/tags/visitkemi/">#visitkemi</a>
    </div>
    <button class="comments" (click)="showComment =! showComment" *ngIf="post.Comments>0">show {{post.Comments}}
      comments</button>
    <hr>
    <div class="instagram-card-footer">
      <app-comment-box (add)="onSubmit($event ,post.postId)"></app-comment-box>
    </div>
    <div *ngIf="showComment">
      <div *ngFor="let c of Comments ">
        <app-comment *ngIf=" (c.postId === post.postId && c.parentId ==='')" [comment]="c" [Postid]="post.postId"
          [Name]="currentUserDetails.displayName"></app-comment>
      </div>
    </div>
  </div>
</div>