
<div class="container">
	<div class="be-comment-block">
		<div class="be-comment">
			<div class="be-img-comment">	
				<a href="blog-detail-2.html">
					<img [src]=comment.photoUrl alt="" class="be-ava-comment">
				</a>
			</div>
			<div class="be-comment-content">
					<span class="be-comment-name">
						<a href="blog-detail-2.html">{{comment.username}}</a>
						</span>
					<span class="be-comment-time">
						<i class="fa fa-clock-o"></i>
						{{comment.date.toDate() | date  }}
					</span>
	
				<p class="be-comment-text">
					{{comment.text}}
				</p>
				<button (click)="replyClick(comment.commentId)" title="Reply" class="btn" > <mat-icon>reply</mat-icon></button>
				<button class="btn" (click)="showReply(comment.commentId)"> showReplies </button>
				<!-- <app-comment-box (add)="onAdd($event)" *ngIf="isEditing"></app-comment-box> -->
				<div *ngIf="isEditing">
					<form (ngSubmit)="addReply()" class="d-flex">
						<textarea [(ngModel)]="replyText" name="comment" placeholder="Write a reply..." class="textarea-comment" (focus)="onFocus()"></textarea>
						<button (click)="isEmojiPickerVisible = !isEmojiPickerVisible;" class="btn">ðŸ˜€</button>
						<emoji-mart class="emoji-mart" *ngIf="isEmojiPickerVisible" (emojiSelect)="addEmoji($event)" title="Choose your emoji"></emoji-mart>
						<button type="submit" *ngIf="replyText" class="btn btn-primary" >Add</button>
					  </form>
				</div>
			</div>
			<div class="replies" *ngIf="repliesShow" >
				<div *ngIf=" NestedReply.length >0 then ifPart ; else elsePart"> </div>
				<ng-template #ifPart >
				<app-comment *ngFor="let c of NestedReply" [comment]="c"></app-comment>
			</ng-template>
			<ng-template #elsePart >
				<p> No more replies</p>
			</ng-template>
			</div>
		</div>
	</div>
</div>	